<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <!-- Given an asynchronous function fn and a time t in milliseconds, return a new time limited version of the input function. fn takes arguments provided to the time limited function.

The time limited function should follow these rules:

If the fn completes within the time limit of t milliseconds, the time limited function should resolve with the result.
If the execution of the fn exceeds the time limit, the time limited function should reject with the string "Time Limit Exceeded". -->
    <script>

        function timelimit(fn,t){
            return function(...args){
                return new Promise((resolve,reject)=>{
                    
                    const timer = setTimeout(()=>reject('time limit reached'),t);
                    
                fn(...args)
                .then((res)=>{
                    resolve(res)
                    clearTimeout(timer);
                })
                .catch((err)=>{
                    reject(err)
                    clearTimeout(timer)
                })

                })
            }
        }


    async function examplefun(duration){
        return new Promise((resolve)=>{
           setTimeout(()=>resolve('finished in time'),duration);
        });
    }

    const limit = timelimit(examplefun,1000);

    limit(500).then(console.log).catch(console.log);
    limit (1100).then(console.log).catch(console.log);
    limit(999).then(console.log).catch(console.log);




    </script>
</body>
</html>