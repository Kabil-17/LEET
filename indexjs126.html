<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <!-- Determine if a 9 x 9 Sudoku board is valid. Only the filled cells need to be validated according to the following rules:
Each row must contain the digits 1-9 without repetition.
Each column must contain the digits 1-9 without repetition.
Each of the nine 3 x 3 sub-boxes of the grid must contain the digits 1-9 without repetition. -->
<script>
    function sudok(board){
        if(!Array.isArray(board)||board.length!==9) return false;
        for(let row of board) if(!Array.isArray(row)||row.length!==9) return false;
        let row = Array.from({length:9},()=>new Set);
        let col = Array.from({length:9},()=>new Set);
        let boxes = Array.from({length:9},()=>new Set);
        for(let r = 0;r<9;r++){
            for(let c = 0;c<9;c++){
                let val = board[r][c];
                if(val === 0|| val ===''||val ==='.') continue;
                val = String(val);
                const boxIndex = Math.floor(r/3)*3 + Math.floor(c/3);
                if(!/^[1-9]$/.test(val)) return false;
                if(row[r].has(val)) return false;
                if(col[c].has(val)) return false;
                if(boxes[boxIndex].has(val)) false;
                row[r].add(val);
                col[c].add(val);
                boxes[boxIndex].add(val);
            }
            console.log(row,col,boxes);
            
        }
        return true;
    }
    console.log(sudok([["5","3",".",".","7",".",".",".","."]
,["6",".",".","1","9","5",".",".","."]
,[".","9","8",".",".",".",".","6","."]
,["8",".",".",".","6",".",".",".","3"]
,["4",".",".","8",".","3",".",".","1"]
,["7",".",".",".","2",".",".",".","6"]
,[".","6",".",".",".",".","2","8","."]
,[".",".",".","4","1","9",".",".","5"]
,[".",".",".",".","8",".",".","7","9"]]));
    
</script>
</body>
</html>